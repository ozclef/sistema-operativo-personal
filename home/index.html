

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Bious Enterprise HQ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{
      margin:0;
      font-family:Segoe UI, sans-serif;
      background:#0d0d12;
      color:#f7f7f7;
    }
    header{
      background:#15151d;
      padding:16px 24px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      border-bottom:1px solid rgba(255,255,255,0.07);
    }
    .nav a{
      margin:0 12px;
      color:#cfcfcf;
      text-decoration:none;
      font-size:15px;
    }
    .nav a:hover{
      color:#fff;
    }
    .container{
      padding:32px;
      max-width:960px;
      margin:auto;
    }
    h1{
      margin-top:0;
      font-size:28px;
      font-weight:600;
    }
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(200px,1fr));
      gap:16px;
      margin-top:24px;
    }
    .card{
      background:#181820;
      padding:20px;
      border-radius:12px;
      cursor:pointer;
      text-align:center;
      border:1px solid rgba(255,255,255,0.06);
      transition:.15s;
      text-decoration:none;
      color:#fff;
      display:block;
    }
    .card:hover{
      background:#222230;
      transform:translateY(-3px);
    }
    footer{
      margin-top:40px;
      padding:24px;
      text-align:center;
      color:#777;
      font-size:14px;
    }
  </style>
</head>
<body>

<header>
  <div style="font-size:18px;font-weight:600;">Bious Enterprise</div>
  <nav class="nav">
    <a href="subempresas/">Subempresas</a>
    <a href="documentacion/">Documentación</a>
    <a href="repos/">Repos</a>
    <a href="dashboard/">Dashboard</a>
  </nav>
</header>

<div class="container">
  <h1>Centro de Mando</h1>
  <p>Bienvenido al HQ de tu Enterprise. Selecciona un módulo para gestionar:</p>

  <div class="grid">

    <!-- Empresas principales -->
    <a class="card" href="clef/">OS Clef — Música</a>
    <a class="card" href="tecnofix/">TecnoFix — Servicios</a>
    <a class="card" href="lexcore/">Derecho y Documentos</a>
    <a class="card" href="mentaris/">Psicología / Ética</a>
    <a class="card" href="quantum/">Ciencia / Tecnología</a>

    <!-- Subempresas de la Enterprise -->
    <a class="card" href="cleftech/">ClefTech</a>
    <a class="card" href="mesacloud/">MesaCloud</a>
    <a class="card" href="mercaflow/">MercaFlow</a>
    <a class="card" href="mentaris/">Mentaris</a>
    <a class="card" href="lexcore/">LexCore</a>
    <a class="card" href="nexoos/">NexoOS</a>
    <a class="card" href="clefstudio/">ClefStudio</a>
    <a class="card" href="qantalab/">QuantaLab</a>

    <!-- Educación -->
    <a class="card" href="university/">Instituto / University</a>

  </div>

</div>







<body>
  <aside id="sidebar"></aside>

  <main id="main">
    <div id="vista-cards"></div>
    <div id="vista-articulo" style="display:none"></div>
    <div id="vista-mediana" style="display:none"></div>
  </main>


  
  <script>
    import { cargarMenu, renderMenu } from "./render.js";
import { cargarArticulos, renderCards, renderArticuloCompleto, renderMediana } from "./render.js";

let articulos = [];

async function init() {
  const menu = await cargarMenu();
  renderMenu(menu);

  articulos = await cargarArticulos();
  renderCards(articulos);
}

init();

// Exporta para que el HTML pueda invocar vistas
window.abrirArticulo = id => {
  const art = articulos.find(a => a.id === id);
  if (!art) return;

  art.vistas += 1;
  renderArticuloCompleto(art);
};

window.abrirMediana = id => {
  const art = articulos.find(a => a.id === id);
  if (!art) return;

  renderMediana(art);
};

window.volverMenu = () => {
  document.querySelector("#vista-articulo").style.display = "none";
  document.querySelector("#vista-mediana").style.display = "none";
  document.querySelector("#vista-cards").style.display = "grid";
};




    export async function cargarMenu() {
  const r = await fetch("./data/menu.json");
  return await r.json();
}

export async function cargarArticulos() {
  const r = await fetch("./data/articulos.json");
  return await r.json();
}

export function renderMenu(menu) {
  const side = document.querySelector("#sidebar");
  side.innerHTML = "";

  Object.keys(menu).forEach(grupo => {
    const h = document.createElement("h3");
    h.textContent = grupo.toUpperCase();
    side.appendChild(h);

    menu[grupo].forEach(op => {
      const a = document.createElement("div");
      a.className = "menu-item";
      a.textContent = op.label;
      a.onclick = () => console.log("Click en:", op.id);
      side.appendChild(a);
    });
  });
}

export function renderCards(articulos) {
  const cont = document.querySelector("#vista-cards");
  cont.style.display = "grid";
  cont.innerHTML = "";

  articulos.forEach(a => {
    const card = document.createElement("div");
    card.className = "card-prev";

    card.innerHTML = `
      <img src="${a.miniatura || 'https://i.imgur.com/xyz.png'}" class="preview-img">
      <h4>${a.titulo}</h4>
      <p>${a.contenido.slice(0, 80)}...</p>
      <button onclick="abrirMediana(${a.id})">Ver previo</button>
      <button onclick="abrirArticulo(${a.id})">Abrir</button>
    `;

    cont.appendChild(card);
  });
}

export function renderMediana(art) {
  document.querySelector("#vista-cards").style.display = "none";
  const v = document.querySelector("#vista-mediana");
  v.style.display = "block";

  v.innerHTML = `
    <button onclick="volverMenu()">Regresar</button>
    <h2>${art.titulo}</h2>
    <p>${art.contenido.slice(0, 200)}...</p>
    ${art.iframe ? `<iframe src="${art.iframe}" class="ifr"></iframe>` : ""}
    <button onclick="abrirArticulo(${art.id})">Abrir completo</button>
  `;
}

export function renderArticuloCompleto(art) {
  document.querySelector("#vista-cards").style.display = "none";
  document.querySelector("#vista-mediana").style.display = "none";

  const v = document.querySelector("#vista-articulo");
  v.style.display = "block";

  v.innerHTML = `
    <button onclick="volverMenu()">Regresar</button>
    <h1>${art.titulo}</h1>
    <p><strong>Fecha:</strong> ${art.fecha}</p>
    <p><strong>Vistas:</strong> ${art.vistas}</p>

    ${art.iframe ? `<iframe src="${art.iframe}" class="ifr-big"></iframe>` : ""}

    <article>${art.contenido}</article>
  `;
}


  </script>
  <script src="js/app.js"></script>


<footer>
  Bious Enterprise © 2025 — Estructura modular expandible
</footer>

</body>
</html>

